{"mappings":"AAAA,qBAAqB;AACrB,MAAM,iBAAiB,SAAS,aAAa,CAAC;AAC9C,MAAM,uBAAuB,SAAS,aAAa,CAAC;AACpD,MAAM,YAAY,SAAS,aAAa,CAAC;AACzC,MAAM,eAAe,SAAS,aAAa,CAAC;AAE5C,iDAAiD;AACjD,SAAS,cAAc;IACrB,MAAM,kCACH,IAAI,CAAC,CAAC,MAAQ;QACb,IAAI,CAAC,IAAI,EAAE,EAAE,MAAM,IAAI,MAAM,uBAAuB;QACpD,OAAO,IAAI,IAAI;IACjB,GACC,IAAI,CAAC,CAAC,OAAS,eAAe,OAC9B,KAAK,CAAC,CAAC,MAAQ,YAAY,IAAI,OAAO;AAC3C;AACA;AAEA,sCAAsC;AACtC,SAAS,kBAAkB,KAAK,EAAE;IAChC,OAAO,MAAM,cAAc,CAAC,SAAS;QACnC,OAAO;QACP,UAAU;IACZ;AACF;AAEA,qBAAqB;AACrB,SAAS,eAAe,QAAQ,EAAE;IAChC,SAAS,OAAO,CAAC,CAAC,UAAY;QAC5B,MAAM,OAAO,CAAC,wPAON,EAAE,QAAQ,KAAK,CAAC,cAChB,EAAE,QAAQ,KAAK,CAAC,oNAQpB,EAAE,QAAQ,QAAQ,CAAC,wBAEjB,EAAE,QAAQ,KAAK,CAAC,uEAElB,EAAE,kBACA,QAAQ,KAAK,EACb,oCAAoC,EAAE,QAAQ,MAAM,CAAC,oDAExC,EAAE,QAAQ,EAAE,CAAC,+PAM5B,CAAC;QACL,eAAe,kBAAkB,CAAC,cAAc;IAClD;IACA,gCAAgC;IAChC,MAAM,gBAAgB,SAAS,gBAAgB,CAAC;IAChD,cAAc,OAAO,CAAC,CAAC,MAAQ;QAC7B,IAAI,gBAAgB,CAAC,SAAS,SAAU,CAAC,EAAE;YACzC,MAAM,KAAK,EAAE,MAAM,CAAC,OAAO,CAAC,EAAE;YAC9B,gCAAgC;YAChC,qBAAqB;YAErB,YAAY;YACZ,UAAU,SAAS,CAAC,MAAM,CAAC;QAC7B;IACF;AACF;AACA,SAAS,qBAAqB,EAAE,EAAE;IAChC,MAAM,CAAC,+BAA+B,EAAE,GAAG,CAAC,EACzC,IAAI,CAAC,CAAC,MAAQ,IAAI,IAAI,IACtB,IAAI,CAAC,CAAC,OAAS,oBAAoB;AACxC;AACA,SAAS,oBAAoB,OAAO,EAAE;IACpC,MAAM,OAAO,CAAC,sUAQO,EAAE,QAAQ,KAAK,CAAC,0BAChB,EAAE,QAAQ,KAAK,CAAC,2MAMG,EAAE,QAAQ,KAAK,CAAC,mIAEC,EAAE,kBACzC,QAAQ,KAAK,EACb,ijDAgClB,CAAC;IACD,qBAAqB,kBAAkB,CAAC,aAAa;AACvD;AAEA,eAAe;AACf,SAAS,YAAY,GAAG,EAAE;IACxB,eAAe,SAAS,GAAG;IAE3B,MAAM,OAAO,CAAC,OACX,EAAE,IAAI,IAAI,CAAC;IACd,eAAe,kBAAkB,CAAC,cAAc;AAClD;AAEA,kBAAkB;AAClB,aAAa,gBAAgB,CAAC,SAAS,WAAY;IACjD,UAAU,SAAS,CAAC,GAAG,CAAC;AAC1B","sources":["src/app.js"],"sourcesContent":["//-----------Elements\r\nconst productWrapper = document.querySelector(\".products-wrapper\");\r\nconst addedProductsWrapper = document.querySelector(\".added-products\");\r\nconst cartModal = document.querySelector(\".cart-modal\");\r\nconst cartCloseBtn = document.querySelector(\".cart-close\");\r\n\r\n//-----Fetching all products from local json file\r\nfunction getProducts() {\r\n  fetch(\"http://localhost:5000/products\")\r\n    .then((res) => {\r\n      if (!res.ok) throw new Error(\"Somthing went wrong\");\r\n      return res.json();\r\n    })\r\n    .then((data) => renderProducts(data))\r\n    .catch((err) => renderError(err.message));\r\n}\r\ngetProducts();\r\n\r\n//--------Currency formatter for price\r\nfunction currencyFormatted(price) {\r\n  return price.toLocaleString(\"en-US\", {\r\n    style: \"currency\",\r\n    currency: \"USD\",\r\n  });\r\n}\r\n\r\n//Render all products\r\nfunction renderProducts(products) {\r\n  products.forEach((product) => {\r\n    const html = `<div\r\n    class=\"product overflow-hidden w-96 h-auto bg-white/75 backdrop-blur-lg rounded-xl shadow-lg shadow-gray-200\"\r\n  >\r\n    <div\r\n      class=\"product-img h-75 overflow-hidden flex justify-center items-center\"\r\n    >\r\n      <img\r\n        src=${product.image}\r\n        alt=${product.title}\r\n        class=\"w-full block\"\r\n      />\r\n    </div>\r\n    <div class=\"product-texts p-5 flex flex-col gap-1\">\r\n      <p\r\n        class=\"text-sm uppercase font-bold tracking-widest text-sky-500\"\r\n      >\r\n        ${product.category}\r\n      </p>\r\n      <h3>${product.title}</h3>\r\n      <p class=\"text-2xl text-rose-500 font-semibold\">\r\n        ${currencyFormatted(\r\n          product.price\r\n        )}<span class=\"text-gray-600 text-sm\">${product.review} reviews</span>\r\n      </p>\r\n      <button data-id=\"${product.id}\"\r\n        class=\"add-to-cart-btn bg-sky-500 text-sky-50 p-2 px-5 rounded shadow-sky-200 font-semibold hover:bg-rose-500 hover:shadow-rose-200 hover:rose-50 duration-300 self-start mt-3\"\r\n      >\r\n        Add to cart\r\n      </button>\r\n    </div>\r\n  </div>`;\r\n    productWrapper.insertAdjacentHTML(\"afterbegin\", html);\r\n  });\r\n  //-------------add to cart event\r\n  const addToCartBtns = document.querySelectorAll(\".add-to-cart-btn\");\r\n  addToCartBtns.forEach((btn) => {\r\n    btn.addEventListener(\"click\", function (e) {\r\n      const id = e.target.dataset.id;\r\n      //----calling another fetch func\r\n      getSingleProductData(id);\r\n\r\n      // cart open\r\n      cartModal.classList.remove(\"hidden\");\r\n    });\r\n  });\r\n}\r\nfunction getSingleProductData(id) {\r\n  fetch(`http://localhost:5000/products/${id}`)\r\n    .then((res) => res.json())\r\n    .then((data) => renderSingleProduct(data));\r\n}\r\nfunction renderSingleProduct(product) {\r\n  const html = `\r\n            <div\r\n              class=\"added-product grid grid-cols-4 border-b pb-2 justify-center gap-2 overflow-hidden items-center\"\r\n            >\r\n              <div\r\n                class=\"img overflow-hidden w-20 rounded flex justify-center items-center\"\r\n              >\r\n                <img\r\n                  src=\"${product.image}\"\r\n                  alt=\"${product.title}\"\r\n                  class=\"block w-full rounded\"\r\n                />\r\n              </div>\r\n\r\n              <div class=\"texts flex flex-col gap-2 col-span-2\">\r\n                <h4 class=\"font-semibold\">${product.title}</h4>\r\n                <div class=\"flex justify-between items-center\">\r\n                  <p class=\"price font-bold text-rose-500\">${currencyFormatted(\r\n                    product.price\r\n                  )}</p>\r\n                  <p\r\n                    class=\"font-semibold text-xl overflow-hidden flex items-center bg-sky-100 gap-3\"\r\n                  >\r\n                    <span\r\n                      class=\"bg-sky-500 text-sky-50 px-2 cursor-pointer active:bg-gray-700\"\r\n                      >-</span\r\n                    ><span>1</span\r\n                    ><span\r\n                      class=\"bg-sky-500 text-sky-50 px-2 cursor-pointer active:bg-gray-700\"\r\n                      >+</span\r\n                    >\r\n                  </p>\r\n                </div>\r\n              </div>\r\n              <button class=\"remove-item hover:text-rose-500 justify-self-end\">\r\n                <svg\r\n                  xmlns=\"http://www.w3.org/2000/svg\"\r\n                  fill=\"none\"\r\n                  viewBox=\"0 0 24 24\"\r\n                  stroke-width=\"1.5\"\r\n                  stroke=\"currentColor\"\r\n                  class=\"w-6 h-6\"\r\n                >\r\n                  <path\r\n                    stroke-linecap=\"round\"\r\n                    stroke-linejoin=\"round\"\r\n                    d=\"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0\"\r\n                  />\r\n                </svg>\r\n              </button>\r\n            </div>\r\n  `;\r\n  addedProductsWrapper.insertAdjacentHTML(\"beforeend\", html);\r\n}\r\n\r\n//Error message\r\nfunction renderError(err) {\r\n  productWrapper.innerHTML = \"\";\r\n\r\n  const html = `\r\n  <p>${err}</p>`;\r\n  productWrapper.insertAdjacentHTML(\"afterbegin\", html);\r\n}\r\n\r\n//cart close event\r\ncartCloseBtn.addEventListener(\"click\", function () {\r\n  cartModal.classList.add(\"hidden\");\r\n});\r\n"],"names":[],"version":3,"file":"index.816e7b21.js.map","sourceRoot":"/__parcel_source_root/"}